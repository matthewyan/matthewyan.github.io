<!DOCTYPE HTML>
<html lang="zh-Hnas" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>React - 开发知识库</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../Common/index.html"><strong aria-hidden="true">1.</strong> 通用</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Common/Git.html"><strong aria-hidden="true">1.1.</strong> Git</a></li><li class="chapter-item expanded "><a href="../Common/VI.html"><strong aria-hidden="true">1.2.</strong> VI</a></li><li class="chapter-item expanded "><a href="../Common/Shell.html"><strong aria-hidden="true">1.3.</strong> Shell</a></li><li class="chapter-item expanded "><a href="../Common/Markdown.html"><strong aria-hidden="true">1.4.</strong> Markdown</a></li><li class="chapter-item expanded "><a href="../Common/Regex.html"><strong aria-hidden="true">1.5.</strong> 正则表达式</a></li><li class="chapter-item expanded "><a href="../Common/Test.html"><strong aria-hidden="true">1.6.</strong> 测试</a></li><li class="chapter-item expanded "><a href="../Common/Database.html"><strong aria-hidden="true">1.7.</strong> 数据库</a></li><li class="chapter-item expanded "><a href="../Common/Network.html"><strong aria-hidden="true">1.8.</strong> 网络</a></li><li class="chapter-item expanded "><a href="../Common/Tools.html"><strong aria-hidden="true">1.9.</strong> 常用工具</a></li><li class="chapter-item expanded "><a href="../Common/Algorithm.html"><strong aria-hidden="true">1.10.</strong> 算法</a></li><li class="chapter-item expanded "><a href="../Common/Graphics.html"><strong aria-hidden="true">1.11.</strong> 图像视频处理</a></li><li class="chapter-item expanded "><a href="../Common/System.html"><strong aria-hidden="true">1.12.</strong> 底层相关</a></li><li class="chapter-item expanded "><a href="../Common/Secure.html"><strong aria-hidden="true">1.13.</strong> 安全</a></li><li class="chapter-item expanded "><a href="../Common/Web3.html"><strong aria-hidden="true">1.14.</strong> Web3.0</a></li><li class="chapter-item expanded "><a href="../Common/Other.html"><strong aria-hidden="true">1.15.</strong> 其它通用技术</a></li></ol></li><li class="chapter-item expanded "><a href="../Software/index.html"><strong aria-hidden="true">2.</strong> 软件</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Software/Architecture.html"><strong aria-hidden="true">2.1.</strong> 软件架构</a></li><li class="chapter-item expanded "><a href="../Software/SoftwareDesign.html"><strong aria-hidden="true">2.2.</strong> 软件设计</a></li><li class="chapter-item expanded "><a href="../Software/DesignPattern.html"><strong aria-hidden="true">2.3.</strong> 设计模式</a></li><li class="chapter-item expanded "><a href="../Software/Document.html"><strong aria-hidden="true">2.4.</strong> 设计文档</a></li><li class="chapter-item expanded "><a href="../Software/Practice.html"><strong aria-hidden="true">2.5.</strong> 软件实践</a></li></ol></li><li class="chapter-item expanded "><a href="../iOS/index.html"><strong aria-hidden="true">3.</strong> iOS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../iOS/Performance.html"><strong aria-hidden="true">3.1.</strong> 性能相关</a></li><li class="chapter-item expanded "><a href="../iOS/UI.html"><strong aria-hidden="true">3.2.</strong> UI相关</a></li><li class="chapter-item expanded "><a href="../iOS/Swift.html"><strong aria-hidden="true">3.3.</strong> Swift</a></li><li class="chapter-item expanded "><a href="../iOS/ObjC.html"><strong aria-hidden="true">3.4.</strong> Objective-C</a></li><li class="chapter-item expanded "><a href="../iOS/SwiftUI.html"><strong aria-hidden="true">3.5.</strong> SwiftUI</a></li><li class="chapter-item expanded "><a href="../iOS/System.html"><strong aria-hidden="true">3.6.</strong> 底层相关</a></li><li class="chapter-item expanded "><a href="../iOS/Thread.html"><strong aria-hidden="true">3.7.</strong> 多线程</a></li><li class="chapter-item expanded "><a href="../iOS/WKWebview.html"><strong aria-hidden="true">3.8.</strong> WKWebview</a></li><li class="chapter-item expanded "><a href="../iOS/Sign.html"><strong aria-hidden="true">3.9.</strong> 签名相关</a></li><li class="chapter-item expanded "><a href="../iOS/Test.html"><strong aria-hidden="true">3.10.</strong> 测试</a></li><li class="chapter-item expanded "><a href="../iOS/Device.html"><strong aria-hidden="true">3.11.</strong> 设备及系统</a></li><li class="chapter-item expanded "><a href="../iOS/Framework/index.html"><strong aria-hidden="true">3.12.</strong> 框架</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../iOS/Framework/Network.html"><strong aria-hidden="true">3.12.1.</strong> 网络</a></li><li class="chapter-item expanded "><a href="../iOS/Framework/ReactiveObjC.html"><strong aria-hidden="true">3.12.2.</strong> ReactiveObjC</a></li></ol></li><li class="chapter-item expanded "><a href="../iOS/Question.html"><strong aria-hidden="true">3.13.</strong> 问题集合</a></li></ol></li><li class="chapter-item expanded "><a href="../Android/index.html"><strong aria-hidden="true">4.</strong> Android</a></li><li class="chapter-item expanded "><a href="../Web/index.html"><strong aria-hidden="true">5.</strong> Web</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Web/HTML.html"><strong aria-hidden="true">5.1.</strong> HTML</a></li><li class="chapter-item expanded "><a href="../Web/CSS.html"><strong aria-hidden="true">5.2.</strong> CSS</a></li><li class="chapter-item expanded "><a href="../Web/JS.html"><strong aria-hidden="true">5.3.</strong> JS</a></li><li class="chapter-item expanded "><a href="../Web/TypeScript.html"><strong aria-hidden="true">5.4.</strong> TypeScript</a></li><li class="chapter-item expanded "><a href="../Web/React.html" class="active"><strong aria-hidden="true">5.5.</strong> React</a></li><li class="chapter-item expanded "><a href="../Web/Vue.html"><strong aria-hidden="true">5.6.</strong> Vue</a></li><li class="chapter-item expanded "><a href="../Web/WebAssembly.html"><strong aria-hidden="true">5.7.</strong> WebAssembly</a></li><li class="chapter-item expanded "><a href="../Web/CROS.html"><strong aria-hidden="true">5.8.</strong> 同源策略 & 跨域</a></li><li class="chapter-item expanded "><a href="../Web/Cookie.html"><strong aria-hidden="true">5.9.</strong> Cookie</a></li><li class="chapter-item expanded "><a href="../Web/DOM.html"><strong aria-hidden="true">5.10.</strong> DOM</a></li><li class="chapter-item expanded "><a href="../Web/JSEngine.html"><strong aria-hidden="true">5.11.</strong> JS引擎</a></li><li class="chapter-item expanded "><a href="../Web/Browser.html"><strong aria-hidden="true">5.12.</strong> 浏览器</a></li><li class="chapter-item expanded "><a href="../Web/Canvas.html"><strong aria-hidden="true">5.13.</strong> Canvas</a></li><li class="chapter-item expanded "><a href="../Web/MiniProgram.html"><strong aria-hidden="true">5.14.</strong> 小程序</a></li></ol></li><li class="chapter-item expanded "><a href="../Flutter/index.html"><strong aria-hidden="true">6.</strong> Flutter</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Flutter/Reference.html"><strong aria-hidden="true">6.1.</strong> Flutter框架</a></li><li class="chapter-item expanded "><a href="../Flutter/Dart.html"><strong aria-hidden="true">6.2.</strong> Dart</a></li><li class="chapter-item expanded "><a href="../Flutter/Layout.html"><strong aria-hidden="true">6.3.</strong> 布局</a></li><li class="chapter-item expanded "><a href="../Flutter/Animation.html"><strong aria-hidden="true">6.4.</strong> 动画</a></li><li class="chapter-item expanded "><a href="../Flutter/Widgets.html"><strong aria-hidden="true">6.5.</strong> 组件</a></li><li class="chapter-item expanded "><a href="../Flutter/State.html"><strong aria-hidden="true">6.6.</strong> 状态管理</a></li><li class="chapter-item expanded "><a href="../Flutter/Theme.html"><strong aria-hidden="true">6.7.</strong> 主题</a></li><li class="chapter-item expanded "><a href="../Flutter/Source.html"><strong aria-hidden="true">6.8.</strong> 源码 & 原理</a></li><li class="chapter-item expanded "><a href="../Flutter/Test.html"><strong aria-hidden="true">6.9.</strong> 测试</a></li><li class="chapter-item expanded "><a href="../Flutter/Performance.html"><strong aria-hidden="true">6.10.</strong> 性能相关</a></li><li class="chapter-item expanded "><a href="../Flutter/Web.html"><strong aria-hidden="true">6.11.</strong> Web开发</a></li><li class="chapter-item expanded "><a href="../Flutter/Desktop.html"><strong aria-hidden="true">6.12.</strong> Desktop开发</a></li></ol></li><li class="chapter-item expanded "><a href="../Server/index.html"><strong aria-hidden="true">7.</strong> 后台</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Server/Linux.html"><strong aria-hidden="true">7.1.</strong> Linux</a></li><li class="chapter-item expanded "><a href="../Server/Go.html"><strong aria-hidden="true">7.2.</strong> GO语言</a></li><li class="chapter-item expanded "><a href="../Server/NodeJS.html"><strong aria-hidden="true">7.3.</strong> Node.js</a></li><li class="chapter-item expanded "><a href="../Server/Docker.html"><strong aria-hidden="true">7.4.</strong> Docker</a></li></ol></li><li class="chapter-item expanded "><a href="../Language/index.html"><strong aria-hidden="true">8.</strong> 语言</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Language/Swift.html"><strong aria-hidden="true">8.1.</strong> Swift</a></li><li class="chapter-item expanded "><a href="../Language/Dart.html"><strong aria-hidden="true">8.2.</strong> Dart</a></li><li class="chapter-item expanded "><a href="../Language/CPP.html"><strong aria-hidden="true">8.3.</strong> C++</a></li><li class="chapter-item expanded "><a href="../Language/Rust.html"><strong aria-hidden="true">8.4.</strong> Rust</a></li><li class="chapter-item expanded "><a href="../Language/JS.html"><strong aria-hidden="true">8.5.</strong> JS</a></li><li class="chapter-item expanded "><a href="../Language/TypeScript.html"><strong aria-hidden="true">8.6.</strong> TypeScript</a></li><li class="chapter-item expanded "><a href="../Language/WebAssembly.html"><strong aria-hidden="true">8.7.</strong> WebAssembly</a></li><li class="chapter-item expanded "><a href="../Language/Haskell.html"><strong aria-hidden="true">8.8.</strong> Haskell</a></li><li class="chapter-item expanded "><a href="../Language/ArmAssembly.html"><strong aria-hidden="true">8.9.</strong> ARM汇编</a></li><li class="chapter-item expanded "><a href="../Language/Compiler.html"><strong aria-hidden="true">8.10.</strong> 编译器</a></li><li class="chapter-item expanded "><a href="../Language/Functional.html"><strong aria-hidden="true">8.11.</strong> 函数式编程</a></li></ol></li><li class="chapter-item expanded "><a href="../DevPlatform/index.html"><strong aria-hidden="true">9.</strong> 开发框架</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../DevPlatform/RN/index.html"><strong aria-hidden="true">9.1.</strong> React Native</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../DevPlatform/RN/Dev.html"><strong aria-hidden="true">9.1.1.</strong> RN开发</a></li><li class="chapter-item expanded "><a href="../DevPlatform/RN/flow.html"><strong aria-hidden="true">9.1.2.</strong> 时序图</a></li></ol></li><li class="chapter-item expanded "><a href="../DevPlatform/Hippy.html"><strong aria-hidden="true">9.2.</strong> Hippy</a></li><li class="chapter-item expanded "><a href="../DevPlatform/Dynamic.html"><strong aria-hidden="true">9.3.</strong> 动态化</a></li><li class="chapter-item expanded "><a href="../DevPlatform/Sentry.html"><strong aria-hidden="true">9.4.</strong> Sentry</a></li></ol></li><li class="chapter-item expanded "><a href="../Note/index.html"><strong aria-hidden="true">10.</strong> 笔记</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Note/10xWork.html"><strong aria-hidden="true">10.1.</strong> 10x程序员工作法</a></li><li class="chapter-item expanded "><a href="../Note/ProfessionalJS.html"><strong aria-hidden="true">10.2.</strong> JavaScript高级程序设计</a></li><li class="chapter-item expanded "><a href="../Note/XSW_ArchTech.html"><strong aria-hidden="true">10.3.</strong> 许式伟的架构课</a></li><li class="chapter-item expanded "><a href="../Note/DDD_Distilled.html"><strong aria-hidden="true">10.4.</strong> 领域驱动设计精粹</a></li><li class="chapter-item expanded "><a href="../Note/SoftwareDesign.html"><strong aria-hidden="true">10.5.</strong> 软件设计之美</a></li><li class="chapter-item expanded "><a href="../Note/DDDPractice.html"><strong aria-hidden="true">10.6.</strong> DDD实战课</a></li><li class="chapter-item expanded "><a href="../Note/DDDThoughtworks.html"><strong aria-hidden="true">10.7.</strong> 领域驱动设计综述(Thoughtworks洞见)</a></li><li class="chapter-item expanded "><a href="../Note/SoftwareArchitecture.html"><strong aria-hidden="true">10.8.</strong> 架构整洁之道</a></li><li class="chapter-item expanded "><a href="../Note/XPExplained.html"><strong aria-hidden="true">10.9.</strong> 解析极限编程</a></li><li class="chapter-item expanded "><a href="../Note/RustSwift.html"><strong aria-hidden="true">10.10.</strong> Rust / Swift对比</a></li></ol></li><li class="chapter-item expanded "><a href="../Article/READMD.html"><strong aria-hidden="true">11.</strong> 文章</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Article/SoftwareDesign.html"><strong aria-hidden="true">11.1.</strong> 浅谈软件设计</a></li><li class="chapter-item expanded "><a href="../Article/ExtremeProgramming.html"><strong aria-hidden="true">11.2.</strong> 解析极限编程</a></li><li class="chapter-item expanded "><a href="../Article/FunctionalProgramming.html"><strong aria-hidden="true">11.3.</strong> 浅谈函数式编程</a></li><li class="chapter-item expanded "><a href="../Article/DartIterableEffective.html"><strong aria-hidden="true">11.4.</strong> Dart中自定义Iterable高效操作</a></li><li class="chapter-item expanded "><a href="../Article/FlutterExperience.html"><strong aria-hidden="true">11.5.</strong> Flutter开发小结</a></li><li class="chapter-item expanded "><a href="../Article/Builder_Runner.html"><strong aria-hidden="true">11.6.</strong> builder_runner实现简介</a></li><li class="chapter-item expanded "><a href="../Article/Compiler_Parser.html"><strong aria-hidden="true">11.7.</strong> 词法&语法分析工具介绍</a></li><li class="chapter-item expanded "><a href="../Article/WKWebview_Cookie.html"><strong aria-hidden="true">11.8.</strong> WKWebview Cookie开发及需要注意的点</a></li></ol></li><li class="chapter-item expanded "><a href="../Other/index.html"><strong aria-hidden="true">12.</strong> 其它</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Other/Concept.html"><strong aria-hidden="true">12.1.</strong> 概念/术语</a></li><li class="chapter-item expanded "><a href="../Other/TechArticle.html"><strong aria-hidden="true">12.2.</strong> 技术文章概要</a></li><li class="chapter-item expanded "><a href="../Other/Design.html"><strong aria-hidden="true">12.3.</strong> 设计相关</a></li><li class="chapter-item expanded "><a href="../Other/Blog.html"><strong aria-hidden="true">12.4.</strong> 博客搭建</a></li><li class="chapter-item expanded "><a href="../Other/MacOS.html"><strong aria-hidden="true">12.5.</strong> MacOS</a></li><li class="chapter-item expanded "><a href="../Other/TechSolution.html"><strong aria-hidden="true">12.6.</strong> 业界方案</a></li><li class="chapter-item expanded "><a href="../Other/English.html"><strong aria-hidden="true">12.7.</strong> 英语</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">开发知识库</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="react"><a class="header" href="#react">React</a></h1>
<h2 id="基础"><a class="header" href="#基础">基础</a></h2>
<h3 id="资料"><a class="header" href="#资料">资料</a></h3>
<ul>
<li><a href="https://cloud.tencent.com/developer/article/1520009">一文掌握React 渲染原理及性能优化</a></li>
<li><a href="https://github.com/7kms/react-illustration-series">图解 React 源码系列</a></li>
<li><a href="https://www.runoob.com/react/react-tutorial.html">简洁教程</a></li>
</ul>
<h3 id="工程相关"><a class="header" href="#工程相关">工程相关</a></h3>
<h4 id="命令"><a class="header" href="#命令">命令</a></h4>
<ul>
<li>CRA: <code>npx create-react-app demo</code></li>
</ul>
<h4 id="注意事项"><a class="header" href="#注意事项">注意事项</a></h4>
<ul>
<li>使用<code>CRA</code>创建的项目，webpack默认是隐藏的，如果要修改，可参考：<a href="https://juejin.cn/post/6974572885763424270">react项目关于webpack配置修改</a></li>
</ul>
<h3 id="组件库开发"><a class="header" href="#组件库开发">组件库开发</a></h3>
<p><a href="https://zhuanlan.zhihu.com/p/153487412">TypeScript + React 构建组件库</a></p>
<h3 id="基础知识"><a class="header" href="#基础知识">基础知识</a></h3>
<h4 id="jsx"><a class="header" href="#jsx">JSX</a></h4>
<p>React建议使用<code>JSX</code>：<a href="https://zh-hans.reactjs.org/docs/introducing-jsx.html">JSX 简介</a></p>
<p>使用JSX有如下优点：</p>
<ul>
<li>编译为JS时，会进行代码的优化</li>
<li>代码更清晰、更易维护</li>
<li>类型安全的</li>
</ul>
<h4 id="virtual-dom"><a class="header" href="#virtual-dom">Virtual DOM</a></h4>
<p>React中很重要的一个概念就是<code>Virtual DOM</code></p>
<p>至于引入VDOM的原因，是因为直接操作DOM的成本太高。参考：<a href="./DOM.html">DOM</a></p>
<p>React的<code>createElement</code>接口，即是创建Virtual DOM的操作</p>
<p><code>ReactDOM.render</code>操作可以将虚拟DOM渲染到真正的DOM中</p>
<h4 id="diff算法"><a class="header" href="#diff算法">Diff算法</a></h4>
<p>Diff采用了一些策略，将时间复杂度降为O(n)</p>
<blockquote>
<p>传统的Diff算法，循环递归对比差异，算法复杂度为O(n3)</p>
<p>但在React中，跨层级的DOM操作非常少，这是Diff算法优化的前提</p>
</blockquote>
<p>一个简单的Virtual DOM的实现，包含了简单的diff：<a href="https://github.com/livoras/blog/issues/13">深度剖析：如何实现一个 Virtual DOM 算法</a></p>
<h4 id="react-fragments"><a class="header" href="#react-fragments">React Fragments</a></h4>
<p><a href="https://refine.dev/blog/how-react-fragments-is-works/">How to use React Fragments?</a></p>
<p>其就是用来对标签进行分组的，不会影响原有的DOM结构。 如：</p>
<pre><code class="language-js">return  (
    // 函数组件返回的数据，只能是单一元素，所以需要包装起来
    // React.Fragment可以替换为&lt;&gt;&lt;/&gt;
    &lt;React.Fragment&gt;
      &lt;td&gt;Eat&lt;/td&gt;
      &lt;td&gt;Learn&lt;/td&gt;
      &lt;td&gt;Code&lt;/td&gt;
    &lt;/React.Fragment&gt;
  );
</code></pre>
<p>React Fragments的简写即：<code>&lt;&gt;&lt;/&gt;</code>。其在很多情况下，可以与<code>&lt;div&gt;&lt;/div&gt;</code>互换，但有些情况下是不行的。上面的文章中有举例，因为<div>可能会影响原有的DOM结构。</p>
<h4 id="props"><a class="header" href="#props">Props</a></h4>
<p>Props是用来给组件传递参数用的，并且其是不可变的。</p>
<pre><code class="language-js">function HelloMessage(props) {
    return &lt;h1&gt;Hello {props.name}!&lt;/h1&gt;;
}

// 因为HelloMessage中有使用name属性，因此这儿可以直接使用
// 但在ts项目中，往往会提前声明props，以便于使用者明确知道有哪些属性
const element = &lt;HelloMessage name=&quot;World&quot;/&gt;;

// 可以通过该方式，可以定义默认属性，此时不传name就会被设置为默认值
HelloMessage.defaultProps = {
  name: 'AAA'
};
</code></pre>
<h4 id="列表--keys"><a class="header" href="#列表--keys">列表 &amp; Keys</a></h4>
<p>key是react用来追踪哪些列表的元素被修改，被添加或者是被删除的辅助标示。 在开发过程中我们需要保证某个元素的key在其同级元素中具有唯一性。 在react的diff算法中react会借助元素的key来判断该元素是最新创建的还是被移动而来的，从而减少不必要的元素渲染。</p>
<pre><code class="language-js">function ListItem(props) {
  // 元素里无须指定key的使用
  return &lt;li&gt;{props.value}&lt;/li&gt;;
}
 
function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =&gt;
    // key应该在数组的上下文中被指定
    &lt;ListItem key={number.toString()}
              value={number} /&gt;
  );
  return (
    &lt;ul&gt; {listItems} &lt;/ul&gt;
  );
}
 
const numbers = [1, 2, 3, 4, 5];
ReactDOM.render(
  &lt;NumberList numbers={numbers} /&gt;,
  document.getElementById('example')
);
</code></pre>
<h4 id="propswithchildren"><a class="header" href="#propswithchildren">PropsWithChildren</a></h4>
<p>默认添加了一个 <code>ReactNode</code> 类型的 <code>children</code> 属性，除此之外没什么特别的。（这个children属性通过在标签内包装来提供）</p>
<pre><code class="language-js">// 这样就可以包装ReactNode
function TestComponent(props: PropsWithChildren&lt;{ title: string }&gt;) {
  return (
    &lt;div&gt;
      &lt;h1&gt;{props.title}&lt;/h1&gt;
      {props.children}  // 使用
    &lt;/div&gt;
  );
}

function App() {
  return (
    &lt;div&gt;
      &lt;TestComponent title='hi'&gt;
        World   // 这个就是传递的children属性
      &lt;/TestComponent&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>PropsWithChildren的定义也比较简单：<code>type PropsWithChildren&lt;P = unknown&gt; = P &amp; { children?: ReactNode | undefined };</code></p>
<h3 id="react-hooks"><a class="header" href="#react-hooks">React Hooks</a></h3>
<p>简单来说，<code>React Hooks</code>是一组新的API，目的是为了解决React类层级太深太复杂的问题。React团队希望组件变为纯粹的数据管道，而非组件类。因为提供了<code>React Hooks</code>，可以理解为可以用函数的方式来提供组件，并且函数也可以维护自己的内部状态。</p>
<blockquote>
<p><strong>React Hooks 的意思是，组件尽量写成纯函数，如果需要外部功能和副作用，就用钩子把外部代码&quot;钩&quot;进来。</strong> React Hooks 就是那些钩子。</p>
<p>你需要什么功能，就使用什么钩子。React 默认提供了一些常用钩子，你也可以封装自己的钩子。</p>
<p>所有的钩子都是为函数引入外部功能，所以 React 约定，钩子一律使用<code>use</code>前缀命名，便于识别。你要使用 xxx 功能，钩子就命名为 usexxx。</p>
</blockquote>
<p>参考：<a href="https://www.ruanyifeng.com/blog/2019/09/react-hooks.html">React Hooks 入门教程</a></p>
<h5 id="usestate"><a class="header" href="#usestate">useState</a></h5>
<p><a href="https://zhuanlan.zhihu.com/p/210550496">React Hooks 详解之 useState</a></p>
<p>简单来说，useState，就是为了让函数式组件中，也可以有State，即可以控制自己的状态。在类组件中，可以通过定义属性的方式来维持自己的状态，而函数式组件，则需要使用<code>useState</code></p>
<blockquote>
<p>类组件有一个大的state对象，一个函数this.setState一次改变整个state对象。
但函数组件没有状态，所以React第一次渲染函数组件时，它同时会创建一个对象与之共存，该对象是该组件实例的定制对象，而不是全局对象。只要组件存在于DOM中，这个组件的对象就会一直存在。</p>
</blockquote>
<p>示例：</p>
<pre><code class="language-js">function Counter() {
  // 可以理解为Class中的属性，作用是一样的
  let [count, setCount] = useState(0);
  return (
    &lt;&gt;
      &lt;p&gt;{count}&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;+&lt;/button&gt;
    &lt;/&gt;
  );
}
</code></pre>
<h5 id="useeffect"><a class="header" href="#useeffect">useEffect</a></h5>
<p>其是用来在函数组件中，执行需产生副作用的操作。如修改外部变量(组件之外)、发送网络请求、操作DOM等。</p>
<p>也是有两个参数，一个是block，一个是依赖项。当依赖项变化时，执行block。</p>
<p>依赖项的特点： (<a href="https://www.jianshu.com/p/ab6d84f92dab">useEffect 的第二个参数</a>)</p>
<ul>
<li>当依赖多个参数时，任何一个参数变化时，都会触发block调用</li>
<li>不传第二个参数，则会在每次render时执行block</li>
<li>依赖项为空数组时，只会在初次render时调用一次block (等同<code>componentDidMount</code>)</li>
</ul>
<pre><code class="language-js">function Example() {
  const [count, setCount] = useState(0);

  useEffect(() =&gt; {
    // 修改了DOM，即引入了副作用
    document.title = `You clicked ${count} times`;
  }, [count]);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h5 id="usememo"><a class="header" href="#usememo">useMemo</a></h5>
<p><a href="https://cloud.tencent.com/developer/article/1967299">【译】你真的应该使用useMemo吗? 让我们一起来看看</a></p>
<p>useMemo 其实创建了一种数据缓存机制。允许开发人员缓存变量的值和依赖列表。 如果此依赖项列表中的任何变量发生更改，React 将重新运行此函数去处理并重新缓存它。</p>
<p>使用场景：需要计算拿到结果，并且依赖的项不变化时，则不需要重新计算，依赖的项变化时，则重新计算。</p>
<p>示例：</p>
<pre><code class="language-js">// 通过依赖项`status`得到计算结果，存储在mval中，当status不变化，则无须重新计算mval
const mval = useMemo(() =&gt; status === 0, [status]);
</code></pre>
<h5 id="usecallback"><a class="header" href="#usecallback">useCallback</a></h5>
<p><a href="https://www.cnblogs.com/xiatianweidao/p/16728506.html">详细解读 React useCallback &amp; useMemo</a></p>
<p>其也是为了缓存函数而引入的。具体为什么要有<code>useCallback</code>，可以参考这篇文章：<a href="https://www.knowledgehut.com/blog/web-development/all-about-react-usecallback">All About React useCallback()</a></p>
<p>简而言之，就是<code>useCallback</code>可以防止相关Callback被频繁调用，可以控制只在依赖项变化时才调用。</p>
<ul>
<li>如果useCallback的第二个参数不填的话，则只会调用一次，后面就不会再更新了</li>
</ul>
<pre><code class="language-js">function Example() {
  const [count, setCount] = useState(0);

  // 它的实现原理即，count变化，则生成一个新的callback，其内部是 新值+1
  // 与arr.filter(***)类似，其会返回新的arr，不会修改原来的arr
  // 原因是函数式思想中的“不变性”，将函数也看成“值”了，即用新`值`替换旧`值`
  const increment = useCallback(() =&gt; {
    setCount(count + 1);
  }, [count]);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={increment}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h5 id="useref"><a class="header" href="#useref">UseRef</a></h5>
<p><a href="https://juejin.cn/post/6894963612687958024">你知道useRef可以实现哪些功能吗？</a></p>
<p>简单说，其作用：</p>
<ul>
<li>获取DOM元素</li>
<li>获取组件实例</li>
<li>保存不会变化的值 (组件生命周期)</li>
</ul>
<pre><code class="language-js">function TextInputWithFocusButton() {
  const inputEl = useRef(null);
  const onButtonClick = () =&gt; {
    // `current` 指向已挂载到 DOM 上的文本输入元素
    inputEl.current.focus();
  };
  return (
    &lt;&gt;
      &lt;input ref={inputEl} type=&quot;text&quot; /&gt;
      &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt;
    &lt;/&gt;
  );
}
</code></pre>
<h5 id="自定义hook"><a class="header" href="#自定义hook">自定义Hook</a></h5>
<p>目的：在函数组件中，复用状态逻辑的方式</p>
<p>示例：</p>
<pre><code class="language-js">function useFriendStatus(friendID) {
  const [isOnline, setIsOnline] = useState(null);

  useEffect(() =&gt; {
    // some code
  }, [friendID]);

  // some code
  
  return isOnline;
}
</code></pre>
<h3 id="使用"><a class="header" href="#使用">使用</a></h3>
<h4 id="reactfc"><a class="header" href="#reactfc">React.FC</a></h4>
<p>函数组件，基本使用如下： (FC，即：FunctionComponent)</p>
<pre><code class="language-typescript">interface IProps {
  name: string;
}

// FC后的泛型，是用来指定参数的
const Icon: React.FC&lt;IProps&gt; = ({ name }) =&gt; {
  return (
    &lt;div&gt;{name}&lt;/div&gt;
  );
};
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Web/TypeScript.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../Web/Vue.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Web/TypeScript.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../Web/Vue.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
